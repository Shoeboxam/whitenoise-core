platform:
  - x64
environment:
  global:
    TWINE_USERNAME: __token__
  matrix:
    - PYTHON: "C:\\Python38"
    # - PYTHON: "C:\\Python38-x64"

install: 
  - c:\\tools\vcpkg\vcpkg.exe install openssl zlib:x86-windows
  - choco install protoc
  - choco install mingw
  - choco install rust
  - refreshenv
  - set PATH=%PYTHON%;%PATH%
  - "python.exe -m pip install wheel"

build_script: 
  - cd bindings-python
  - "python.exe setup.py sdist bdist_wheel"
  - ls dist

artifacts:
  # bdist_wheel puts your built wheel in the dist directory
  - path: dist\*

#on_success:
